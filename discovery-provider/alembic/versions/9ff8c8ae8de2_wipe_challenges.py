"""Wipe challenges

Revision ID: 9ff8c8ae8de2
Revises: badd3aab7e5e
Create Date: 2021-08-19 22:23:09.417170

"""
from alembic import op


# revision identifiers, used by Alembic.
revision = "9ff8c8ae8de2"
down_revision = "badd3aab7e5e"
branch_labels = None
depends_on = None


def upgrade():
    # To drop:
    # - challenge_listen_streak
    # UserChallenges:
    # - track-upload
    # - listen-streak

    connection = op.get_bind()
    connection.execute(
        """
            DELETE FROM challenge_listen_streak;
            DELETE FROM user_challenges WHERE "challenge_id" = 'track-upload' or "challenge_id" = 'listen-streak';
        """
    )


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    pass
    # ### end Alembic commands ###
